<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>prediction_churn</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="prediction_churn_files/libs/clipboard/clipboard.min.js"></script>
<script src="prediction_churn_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="prediction_churn_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="prediction_churn_files/libs/quarto-html/popper.min.js"></script>
<script src="prediction_churn_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="prediction_churn_files/libs/quarto-html/anchor.min.js"></script>
<link href="prediction_churn_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="prediction_churn_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="prediction_churn_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="prediction_churn_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="prediction_churn_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">prediction_churn</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="prediction-du-desabonnement-des-clients" class="level1">
<h1>prediction du desabonnement des clients</h1>
<section id="problematique-metier" class="level2">
<h2 class="anchored" data-anchor-id="problematique-metier">problematique metier</h2>
<p>Predire le desabonnement ou non d’un client</p>
</section>
<section id="collecte-des-données" class="level2">
<h2 class="anchored" data-anchor-id="collecte-des-données">collecte des données</h2>
</section>
<section id="traitement-des-données" class="level2">
<h2 class="anchored" data-anchor-id="traitement-des-données">traitement des données</h2>
<p>comprehension des données</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   440833 obs. of  12 variables:
 $ CustomerID       : int  2 3 4 5 6 8 9 10 11 12 ...
 $ Age              : int  30 65 55 58 23 51 58 55 39 64 ...
 $ Gender           : chr  "Female" "Female" "Female" "Male" ...
 $ Tenure           : int  39 49 14 38 32 33 49 37 12 3 ...
 $ Usage.Frequency  : int  14 1 4 21 20 25 12 8 5 25 ...
 $ Support.Calls    : int  5 10 6 7 5 9 3 4 7 2 ...
 $ Payment.Delay    : int  18 8 18 7 8 26 16 15 4 11 ...
 $ Subscription.Type: chr  "Standard" "Basic" "Basic" "Standard" ...
 $ Contract.Length  : chr  "Annual" "Monthly" "Quarterly" "Monthly" ...
 $ Total.Spend      : num  932 557 185 396 617 129 821 445 969 415 ...
 $ Last.Interaction : int  17 6 3 29 20 8 24 30 13 29 ...
 $ Churn            : int  1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   CustomerID          Age           Gender              Tenure     
 Min.   :     2   Min.   :18.00   Length:440833      Min.   : 1.00  
 1st Qu.:113622   1st Qu.:29.00   Class :character   1st Qu.:16.00  
 Median :226126   Median :39.00   Mode  :character   Median :32.00  
 Mean   :225399   Mean   :39.37                      Mean   :31.26  
 3rd Qu.:337739   3rd Qu.:48.00                      3rd Qu.:46.00  
 Max.   :449999   Max.   :65.00                      Max.   :60.00  
 NA's   :1        NA's   :1                          NA's   :1      
 Usage.Frequency Support.Calls    Payment.Delay   Subscription.Type 
 Min.   : 1.00   Min.   : 0.000   Min.   : 0.00   Length:440833     
 1st Qu.: 9.00   1st Qu.: 1.000   1st Qu.: 6.00   Class :character  
 Median :16.00   Median : 3.000   Median :12.00   Mode  :character  
 Mean   :15.81   Mean   : 3.604   Mean   :12.97                     
 3rd Qu.:23.00   3rd Qu.: 6.000   3rd Qu.:19.00                     
 Max.   :30.00   Max.   :10.000   Max.   :30.00                     
 NA's   :1       NA's   :1        NA's   :1                         
 Contract.Length     Total.Spend     Last.Interaction     Churn       
 Length:440833      Min.   : 100.0   Min.   : 1.00    Min.   :0.0000  
 Class :character   1st Qu.: 480.0   1st Qu.: 7.00    1st Qu.:0.0000  
 Mode  :character   Median : 661.0   Median :14.00    Median :1.0000  
                    Mean   : 631.6   Mean   :14.48    Mean   :0.5671  
                    3rd Qu.: 830.0   3rd Qu.:22.00    3rd Qu.:1.0000  
                    Max.   :1000.0   Max.   :30.00    Max.   :1.0000  
                    NA's   :1        NA's   :1        NA's   :1       </code></pre>
</div>
</div>
<p>traitement des valeur manquante</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>       CustomerID               Age            Gender            Tenure 
                1                 1                 0                 1 
  Usage.Frequency     Support.Calls     Payment.Delay Subscription.Type 
                1                 1                 1                 0 
  Contract.Length       Total.Spend  Last.Interaction             Churn 
                0                 1                 1                 1 </code></pre>
</div>
</div>
<p>l’exploration de nos données</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="prediction_churn_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Distribution de la durée de l’abonnement</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="prediction_churn_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Dostribution de l’ancieneté des clients vs Churn</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="prediction_churn_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Encoding des variable qualitative</p>
<p>encoding de la variable genre</p>
<p>Encoding variable subscription.type et contract.length</p>
<p>Encoding des variables</p>
<p>Le modèle logistique</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = Churn ~ ., family = binomial, data = data_churn_model)

Coefficients:
                    Estimate Std. Error  z value Pr(&gt;|z|)    
(Intercept)        2.749e+00  3.745e-02   73.384   &lt;2e-16 ***
Age                3.476e-02  4.407e-04   78.882   &lt;2e-16 ***
Gender            -1.084e+00  1.069e-02 -101.369   &lt;2e-16 ***
Tenure            -7.141e-03  2.907e-04  -24.566   &lt;2e-16 ***
Usage.Frequency   -1.410e-02  5.837e-04  -24.149   &lt;2e-16 ***
Support.Calls      7.072e-01  2.761e-03  256.163   &lt;2e-16 ***
Payment.Delay      1.050e-01  6.978e-04  150.433   &lt;2e-16 ***
Subscription.Type -6.104e-02  6.146e-03   -9.933   &lt;2e-16 ***
Contract.Length   -1.342e+00  7.998e-03 -167.846   &lt;2e-16 ***
Total.Spend       -5.620e-03  2.727e-05 -206.127   &lt;2e-16 ***
Last.Interaction   5.660e-02  6.184e-04   91.535   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 603158  on 440831  degrees of freedom
Residual deviance: 257445  on 440821  degrees of freedom
  (1 observation effacée parce que manquante)
AIC: 257467

Number of Fisher Scoring iterations: 6</code></pre>
</div>
</div>
<p>Le test du rapport de vraisemblance</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Deviance Table

Model: binomial, link: logit

Response: Churn

Terms added sequentially (first to last)

                  Df Deviance Resid. Df Resid. Dev  Pr(&gt;Chi)    
NULL                             440831     603158              
Age                1    21471    440830     581687 &lt; 2.2e-16 ***
Gender             1    13365    440829     568322 &lt; 2.2e-16 ***
Tenure             1     1109    440828     567213 &lt; 2.2e-16 ***
Usage.Frequency    1      957    440827     566256 &lt; 2.2e-16 ***
Support.Calls      1   166231    440826     400024 &lt; 2.2e-16 ***
Payment.Delay      1    33791    440825     366233 &lt; 2.2e-16 ***
Subscription.Type  1      110    440824     366123 &lt; 2.2e-16 ***
Contract.Length    1    39817    440823     326307 &lt; 2.2e-16 ***
Total.Spend        1    60071    440822     266236 &lt; 2.2e-16 ***
Last.Interaction   1     8791    440821     257445 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>les lignes sonyt ajouter l’une apres l’autre. et chaque lgne reponds a la question.undefined</p>
<p>Est ce que l’ajout de cette variable ameliore t il de maniere significative le modele sachant que les variables precedentes sont incluses? apres anlyse La déviance diminue fortement entre le modèle nul et le modèle complet ,Les p-values sont toutes inférieures à 0,05 Donc le modele complet explique significativement le churn</p>
<p>modele reduit</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = Churn ~ Age + Gender + Tenure + Support.Calls + 
    Payment.Delay + Contract.Length + Total.Spend + Last.Interaction, 
    family = binomial, data = data_churn_model)

Coefficients:
                   Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)       2.389e+00  3.369e-02   70.93   &lt;2e-16 ***
Age               3.468e-02  4.400e-04   78.82   &lt;2e-16 ***
Gender           -1.084e+00  1.068e-02 -101.48   &lt;2e-16 ***
Tenure           -6.779e-03  2.898e-04  -23.39   &lt;2e-16 ***
Support.Calls     7.063e-01  2.755e-03  256.37   &lt;2e-16 ***
Payment.Delay     1.049e-01  6.966e-04  150.57   &lt;2e-16 ***
Contract.Length  -1.340e+00  7.984e-03 -167.89   &lt;2e-16 ***
Total.Spend      -5.616e-03  2.722e-05 -206.33   &lt;2e-16 ***
Last.Interaction  5.653e-02  6.175e-04   91.55   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 603158  on 440831  degrees of freedom
Residual deviance: 258127  on 440823  degrees of freedom
  (1 observation effacée parce que manquante)
AIC: 258145

Number of Fisher Scoring iterations: 6</code></pre>
</div>
</div>
<p>Le modèle complet explique-t-il significativement mieux le churn que le modèle réduit ?</p>
<p>Ho: Usage.frequency et subscription.type n’ameliore pas le modele</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Deviance Table

Model 1: Churn ~ Age + Gender + Tenure + Support.Calls + Payment.Delay + 
    Contract.Length + Total.Spend + Last.Interaction
Model 2: Churn ~ Age + Gender + Tenure + Usage.Frequency + Support.Calls + 
    Payment.Delay + Subscription.Type + Contract.Length + Total.Spend + 
    Last.Interaction
  Resid. Df Resid. Dev Df Deviance  Pr(&gt;Chi)    
1    440823     258127                          
2    440821     257445  2   682.29 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Conclusion: le Pr(&gt;Chi) &lt; 0.05 donc le modele complet estle meilleur</p>
</section>
<section id="prediction-probabiliste" class="level2">
<h2 class="anchored" data-anchor-id="prediction-probabiliste">prediction probabiliste</h2>
<p>encodage du test_data</p>
</section>
<section id="evaluation-du-modele" class="level2">
<h2 class="anchored" data-anchor-id="evaluation-du-modele">Evaluation du modele</h2>
<section id="matrice-de-confusion" class="level3">
<h3 class="anchored" data-anchor-id="matrice-de-confusion">Matrice de confusion</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          Reference
Prediction     0     1
         0 12117  1541
         1 21764 28952
                                          
               Accuracy : 0.638           
                 95% CI : (0.6342, 0.6417)
    No Information Rate : 0.5263          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.2972          
                                          
 Mcnemar's Test P-Value : &lt; 2.2e-16       
                                          
            Sensitivity : 0.9495          
            Specificity : 0.3576          
         Pos Pred Value : 0.5709          
         Neg Pred Value : 0.8872          
             Prevalence : 0.4737          
         Detection Rate : 0.4497          
   Detection Prevalence : 0.7878          
      Balanced Accuracy : 0.6535          
                                          
       'Positive' Class : 1               
                                          </code></pre>
</div>
</div>
</section>
<section id="courbe-roc" class="level3">
<h3 class="anchored" data-anchor-id="courbe-roc">courbe roc</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Area under the curve: 0.7674</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="prediction_churn_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>le VIF</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>              Age            Gender            Tenure   Usage.Frequency 
         1.013005          1.111810          1.004198          1.003541 
    Support.Calls     Payment.Delay Subscription.Type   Contract.Length 
         1.196831          1.071900          1.001662          1.095224 
      Total.Spend  Last.Interaction 
         1.146345          1.105782 </code></pre>
</div>
</div>
</section>
</section>
<section id="optimisation-du-modele" class="level2">
<h2 class="anchored" data-anchor-id="optimisation-du-modele">Optimisation du modele</h2>
<section id="preparation-du-modele" class="level3">
<h3 class="anchored" data-anchor-id="preparation-du-modele">preparation du modele</h3>
</section>
<section id="validation-croisée-lasso" class="level3">
<h3 class="anchored" data-anchor-id="validation-croisée-lasso">Validation croisée LASSO</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>       CustomerID               Age            Gender            Tenure 
                0                 0                 0                 0 
  Usage.Frequency     Support.Calls     Payment.Delay Subscription.Type 
                0                 0                 0                 0 
  Contract.Length       Total.Spend  Last.Interaction             Churn 
                0                 0                 0                 0 </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="prediction_churn_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0005089337</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.002474742</code></pre>
</div>
</div>
</section>
<section id="modele-de-lasso-final" class="level3">
<h3 class="anchored" data-anchor-id="modele-de-lasso-final">modele de lasso final</h3>
<p>les coefficients</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>11 x 1 sparse Matrix of class "dgCMatrix"
                            s0
(Intercept)        2.682697682
Age                0.034037653
Gender            -1.059684626
Tenure            -0.006740513
Usage.Frequency   -0.013295099
Support.Calls      0.697747386
Payment.Delay      0.103272951
Subscription.Type -0.053417040
Contract.Length   -1.321589416
Total.Spend       -0.005539564
Last.Interaction   0.055236534</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<p>prediction</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          Reference
Prediction     0     1
         0 12479  1678
         1 21402 28815
                                          
               Accuracy : 0.6415          
                 95% CI : (0.6378, 0.6452)
    No Information Rate : 0.5263          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.3035          
                                          
 Mcnemar's Test P-Value : &lt; 2.2e-16       
                                          
            Sensitivity : 0.9450          
            Specificity : 0.3683          
         Pos Pred Value : 0.5738          
         Neg Pred Value : 0.8815          
             Prevalence : 0.4737          
         Detection Rate : 0.4476          
   Detection Prevalence : 0.7801          
      Balanced Accuracy : 0.6566          
                                          
       'Positive' Class : 1               
                                          </code></pre>
</div>
</div>
<p>calculer le ROC et AUC</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="prediction_churn_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Area under the curve: 0.7674</code></pre>
</div>
</div>
<p>arbre de decision</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
=== ARBRE DE DÉCISION AVEC CTREE ===</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="prediction_churn_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy ctree (train): 97.54 %</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
=== PERFORMANCE RÉELLE ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy sur train (subset): 97.53 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy sur validation: 97.56 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Gap train-validation: -0.04 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== MATRICE DE CONFUSION (VALIDATION) ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          Reference
Prediction     0     1
         0 39803  1986
         1   272 50514
                                          
               Accuracy : 0.9756          
                 95% CI : (0.9746, 0.9766)
    No Information Rate : 0.5671          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.9506          
                                          
 Mcnemar's Test P-Value : &lt; 2.2e-16       
                                          
            Sensitivity : 0.9932          
            Specificity : 0.9622          
         Pos Pred Value : 0.9525          
         Neg Pred Value : 0.9946          
             Prevalence : 0.4329          
         Detection Rate : 0.4300          
   Detection Prevalence : 0.4514          
      Balanced Accuracy : 0.9777          
                                          
       'Positive' Class : 0               
                                          </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== ANALYSE PAR CLASSE ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Sensitivity (détection Churn): 99.32 %
Specificity (détection Non-Churn): 96.22 %
Taux de Churn réel: 56.71 %</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy final sur tout le train: 97.54 %</code></pre>
</div>
</div>
<p>prediction</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Génération des prédictions...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== RÉSULTATS DES PRÉDICTIONS ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Nombre de prédictions: 132249 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Distribution des prédictions:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>predictions
    0     1 
59693 72556 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Proportions:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>predictions
    0     1 
45.14 54.86 </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy sur le test set: 97.53 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Matrice de confusion:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>          Reference
Prediction     0     1
         0 56840  2853
         1   409 72147</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Métriques détaillées:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Sensitivity (Recall): 99.29 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Specificity: 96.2 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Precision: 95.22 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>F1 Score: 97.21 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Comparaison Train vs Test:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Train accuracy: 97.54 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Test accuracy : 97.53 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Différence    : 0 %</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   64374 obs. of  12 variables:
 $ CustomerID       : int  1 2 3 4 5 6 7 8 9 10 ...
 $ Age              : int  22 41 47 35 53 30 47 54 36 65 ...
 $ Gender           : num  0 0 1 1 0 1 0 0 1 1 ...
 $ Tenure           : int  25 28 27 9 58 41 37 36 20 8 ...
 $ Usage.Frequency  : int  14 28 10 12 24 14 15 11 5 4 ...
 $ Support.Calls    : int  4 7 2 5 9 10 9 0 10 2 ...
 $ Payment.Delay    : int  27 13 29 17 2 10 28 18 8 23 ...
 $ Subscription.Type: num  1 2 3 3 2 3 1 2 1 1 ...
 $ Contract.Length  : num  1 1 3 2 3 1 2 1 1 3 ...
 $ Total.Spend      : int  598 584 757 232 533 500 574 323 687 995 ...
 $ Last.Interaction : int  9 20 21 18 18 29 14 16 8 10 ...
 $ Churn            : int  1 0 0 0 0 0 1 0 0 0 ...</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
=== RÉSULTATS SUR LE TEST SET INITIAL ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Nombre de prédictions: 64374 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Distribution des prédictions:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>initial_predictions
    0     1 
 3603 60771 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Proportions:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>initial_predictions
   0    1 
 5.6 94.4 </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   64374 obs. of  11 variables:
 $ Age              : num  22 41 47 35 53 30 47 54 36 65 ...
 $ Gender           : num  0 0 1 1 0 1 0 0 1 1 ...
 $ Tenure           : num  25 28 27 9 58 41 37 36 20 8 ...
 $ Usage.Frequency  : num  14 28 10 12 24 14 15 11 5 4 ...
 $ Support.Calls    : num  4 7 2 5 9 10 9 0 10 2 ...
 $ Payment.Delay    : num  27 13 29 17 2 10 28 18 8 23 ...
 $ Subscription.Type: Factor w/ 3 levels "1","2","3": 1 2 3 3 2 3 1 2 1 1 ...
 $ Contract.Length  : Factor w/ 3 levels "1","2","3": 1 1 3 2 3 1 2 1 1 3 ...
 $ Total.Spend      : num  598 584 757 232 533 500 574 323 687 995 ...
 $ Last.Interaction : num  9 20 21 18 18 29 14 16 8 10 ...
 $ Churn            : Factor w/ 2 levels "0","1": 2 1 1 1 1 1 2 1 1 1 ...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   308584 obs. of  11 variables:
 $ Age              : num  30 55 58 23 51 58 55 39 29 52 ...
 $ Gender           : num  0 0 1 1 1 0 0 1 1 0 ...
 $ Tenure           : num  39 14 38 32 33 49 37 12 18 21 ...
 $ Usage.Frequency  : num  14 4 21 20 25 12 8 5 9 6 ...
 $ Support.Calls    : num  5 6 7 5 9 3 4 7 0 3 ...
 $ Payment.Delay    : num  18 18 7 8 26 16 15 4 30 26 ...
 $ Subscription.Type: Factor w/ 3 levels "1","2","3": 2 1 2 1 3 2 3 2 3 3 ...
 $ Contract.Length  : Factor w/ 3 levels "1","2","3": 3 2 1 1 3 2 3 2 2 1 ...
 $ Total.Spend      : num  932 185 396 617 129 821 445 969 930 830 ...
 $ Last.Interaction : num  17 3 29 20 8 24 30 13 18 19 ...
 $ Churn            : Factor w/ 2 levels "0","1": 2 2 2 2 2 2 2 2 2 2 ...</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>=== DIAGNOSTIC DU PROBLÈME ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. Distribution RÉELLE dans le test set initial:

    0     1 
33881 30493 
Proportions réelles:

    0     1 
52.63 47.37 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
2. Distribution dans le TRAIN set (pour comparaison):</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
     0      1 
133584 175000 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Proportions train:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    0     1 
43.29 56.71 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
3. Vérification des features importantes:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Structure de l'arbre:

     Conditional inference tree with 12 terminal nodes

Response:  Churn 
Inputs:  Age, Gender, Tenure, Usage.Frequency, Support.Calls, Payment.Delay, Subscription.Type, Contract.Length, Total.Spend, Last.Interaction 
Number of observations:  308584 

1) Support.Calls &lt;= 4; criterion = 1, statistic = 101478.6
  2) Contract.Length == {1}; criterion = 1, statistic = 56778.772
    3)*  weights = 27999 
  2) Contract.Length == {2, 3}
    4) Total.Spend &lt;= 500; criterion = 1, statistic = 43434.758
      5) Total.Spend &lt;= 496.19; criterion = 0.999, statistic = 14.899
        6)*  weights = 24299 
      5) Total.Spend &gt; 496.19
        7) Total.Spend &lt;= 499.87; criterion = 0.976, statistic = 9.158
          8)*  weights = 187 
        7) Total.Spend &gt; 499.87
          9)*  weights = 60 
    4) Total.Spend &gt; 500
      10) Payment.Delay &lt;= 20; criterion = 1, statistic = 17405.346
        11) Age &lt;= 50; criterion = 1, statistic = 8122.463
          12)*  weights = 139359 
        11) Age &gt; 50
          13)*  weights = 6438 
      10) Payment.Delay &gt; 20
        14)*  weights = 9920 
1) Support.Calls &gt; 4
  15) Support.Calls &lt;= 5; criterion = 1, statistic = 1925.62
    16) Total.Spend &lt;= 501; criterion = 1, statistic = 552.247
      17)*  weights = 7281 
    16) Total.Spend &gt; 501
      18) Contract.Length == {2, 3}; criterion = 1, statistic = 431.065
        19) Age &lt;= 49; criterion = 1, statistic = 327.648
          20)*  weights = 4091 
        19) Age &gt; 49
          21)*  weights = 2916 
      18) Contract.Length == {1}
        22)*  weights = 3005 
  15) Support.Calls &gt; 5
    23)*  weights = 83029 

Première règle de l'arbre:</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>=== ANALYSE DÉTAILLÉE DE L'ARBRE ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. PRÉDICTIONS DES FEUILLES :</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
2. SIMULATION DES RÈGLES SUR LE TRAIN :</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Règle 1 (Support.Calls &lt;= 4 &amp; Contract.Length == 1): 27999 obs</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Règle 2 (Total.Spend &lt;= 496.19): 24299 obs</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Règle CRITIQUE (Support.Calls &gt; 5): 83029 obs</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Taux de Churn pour Support.Calls &gt; 5: 100 %
Distribution Churn pour cette règle:

    0     1 
    0 83029 </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>=== VÉRIFICATION DE LA RÈGLE Support.Calls &gt; 5 DANS LE TEST SET ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. STATISTIQUES Support.Calls &gt; 5:
   Test set total: 64374 observations
   Support.Calls &gt; 5: 33138 observations
   Pourcentage: 51.48 %

2. DISTRIBUTION COMPLÈTE DE Support.Calls:

   0    1    2    3    4    5    6    7    8    9   10 
4967 4929 4812 4723 5148 6657 6639 6599 6649 6664 6587 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="prediction_churn_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
3. VÉRIFICATION DE LA RÈGLE:
   Observations avec Support.Calls &gt; 5: 33138 
   Taux de Churn RÉEL pour Support.Calls &gt; 5: 60.99 %
   Distribution réelle:

    0     1 
12927 20211 

4. COMPARAISON TRAIN vs TEST:
   TRAIN - Support.Calls &gt; 5: 83029 
   TRAIN - Churn pour Support.Calls &gt; 5: 83029 
   TRAIN - Taux de Churn: 100 %

   TEST - Support.Calls &gt; 5: 33138 
   TEST - Churn pour Support.Calls &gt; 5: 20211 
   TEST - Taux de Churn: 60.99 %

5. DIFFÉRENCE CRITIQUE:
   Train: Support.Calls &gt; 5 → 100% Churn
   Test : Support.Calls &gt; 5 → 60.99 % Churn
   Différence: 39.01 % points

⚠️  ATTENTION: La règle du train ne tient PAS dans le test!
   Le modèle va faire BEAUCOUP d'erreurs sur ces observations.</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>=== OPTION 1 : MODÈLE SANS Support.Calls ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Distribution des prédictions (sans Support.Calls):</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>pred_no_support
    0     1 
 3603 60771 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Proportions:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>pred_no_support
   0    1 
 5.6 94.4 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Accuracy (sans Support.Calls): 52.74 %</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
=== VÉRIFICATION DES VARIABLES 'PARFAITES' ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Variable: Contract.Length 
Type: factor 
Valeurs uniques: 4 
  ✓ Valeur '1' → Churn = 1 (100%) (87104 obs)
  ⚠️  1 règle(s) parfaite(s) trouvée(s)

Variable: Subscription.Type 
Type: factor 
Valeurs uniques: 4 
  ✓ Pas de règles parfaites

Variable: Payment.Delay 
Type: numeric 
Valeurs uniques: 31 
  ✓ Valeur '26' → Churn = 1 (100%) (8383 obs)
  ✓ Valeur '30' → Churn = 1 (100%) (8590 obs)
  ✓ Valeur '25' → Churn = 1 (100%) (8362 obs)
  ✓ Valeur '22' → Churn = 1 (100%) (8454 obs)
  ✓ Valeur '28' → Churn = 1 (100%) (8299 obs)
  ✓ Valeur '27' → Churn = 1 (100%) (8178 obs)
  ✓ Valeur '29' → Churn = 1 (100%) (8446 obs)
  ✓ Valeur '24' → Churn = 1 (100%) (8325 obs)
  ✓ Valeur '23' → Churn = 1 (100%) (8323 obs)
  ✓ Valeur '21' → Churn = 1 (100%) (8670 obs)
  ⚠️  10 règle(s) parfaite(s) trouvée(s)

Variable: Total.Spend 
Type: numeric 
Valeurs uniques: 68363 
  ✓ Valeur '185' → Churn = 1 (100%) (252 obs)
  ✓ Valeur '396' → Churn = 1 (100%) (215 obs)
  ✓ Valeur '129' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '445' → Churn = 1 (100%) (250 obs)
  ✓ Valeur '415' → Churn = 1 (100%) (249 obs)
  ✓ Valeur '265' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '204' → Churn = 1 (100%) (234 obs)
  ✓ Valeur '151' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '262' → Churn = 1 (100%) (258 obs)
  ✓ Valeur '212' → Churn = 1 (100%) (228 obs)
  ✓ Valeur '436' → Churn = 1 (100%) (231 obs)
  ✓ Valeur '434' → Churn = 1 (100%) (221 obs)
  ✓ Valeur '435' → Churn = 1 (100%) (230 obs)
  ✓ Valeur '424' → Churn = 1 (100%) (234 obs)
  ✓ Valeur '232' → Churn = 1 (100%) (217 obs)
  ✓ Valeur '289' → Churn = 1 (100%) (217 obs)
  ✓ Valeur '371' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '288' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '336' → Churn = 1 (100%) (215 obs)
  ✓ Valeur '413' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '488' → Churn = 1 (100%) (214 obs)
  ✓ Valeur '111' → Churn = 1 (100%) (214 obs)
  ✓ Valeur '296' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '196' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '400' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '214' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '282' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '383' → Churn = 1 (100%) (216 obs)
  ✓ Valeur '369' → Churn = 1 (100%) (200 obs)
  ✓ Valeur '159' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '299' → Churn = 1 (100%) (240 obs)
  ✓ Valeur '389' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '392' → Churn = 1 (100%) (234 obs)
  ✓ Valeur '268' → Churn = 1 (100%) (254 obs)
  ✓ Valeur '139' → Churn = 1 (100%) (265 obs)
  ✓ Valeur '404' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '269' → Churn = 1 (100%) (261 obs)
  ✓ Valeur '421' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '202' → Churn = 1 (100%) (247 obs)
  ✓ Valeur '236' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '414' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '382' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '365' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '330' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '295' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '153' → Churn = 1 (100%) (205 obs)
  ✓ Valeur '326' → Churn = 1 (100%) (207 obs)
  ✓ Valeur '341' → Churn = 1 (100%) (231 obs)
  ✓ Valeur '344' → Churn = 1 (100%) (231 obs)
  ✓ Valeur '325' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '376' → Churn = 1 (100%) (201 obs)
  ✓ Valeur '398' → Churn = 1 (100%) (204 obs)
  ✓ Valeur '183' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '374' → Churn = 1 (100%) (217 obs)
  ✓ Valeur '285' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '294' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '109' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '411' → Churn = 1 (100%) (238 obs)
  ✓ Valeur '338' → Churn = 1 (100%) (255 obs)
  ✓ Valeur '226' → Churn = 1 (100%) (206 obs)
  ✓ Valeur '261' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '443' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '351' → Churn = 1 (100%) (208 obs)
  ✓ Valeur '201' → Churn = 1 (100%) (202 obs)
  ✓ Valeur '228' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '165' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '167' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '426' → Churn = 1 (100%) (250 obs)
  ✓ Valeur '408' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '152' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '448' → Churn = 1 (100%) (227 obs)
  ✓ Valeur '195' → Churn = 1 (100%) (245 obs)
  ✓ Valeur '101' → Churn = 1 (100%) (195 obs)
  ✓ Valeur '495' → Churn = 1 (100%) (238 obs)
  ✓ Valeur '471' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '499' → Churn = 1 (100%) (231 obs)
  ✓ Valeur '378' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '103' → Churn = 1 (100%) (210 obs)
  ✓ Valeur '335' → Churn = 1 (100%) (244 obs)
  ✓ Valeur '460' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '272' → Churn = 1 (100%) (214 obs)
  ✓ Valeur '142' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '134' → Churn = 1 (100%) (249 obs)
  ✓ Valeur '211' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '293' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '249' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '493' → Churn = 1 (100%) (196 obs)
  ✓ Valeur '353' → Churn = 1 (100%) (248 obs)
  ✓ Valeur '148' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '144' → Churn = 1 (100%) (242 obs)
  ✓ Valeur '494' → Churn = 1 (100%) (214 obs)
  ✓ Valeur '213' → Churn = 1 (100%) (189 obs)
  ✓ Valeur '486' → Churn = 1 (100%) (227 obs)
  ✓ Valeur '206' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '141' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '401' → Churn = 1 (100%) (251 obs)
  ✓ Valeur '146' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '297' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '225' → Churn = 1 (100%) (239 obs)
  ✓ Valeur '417' → Churn = 1 (100%) (248 obs)
  ✓ Valeur '490' → Churn = 1 (100%) (245 obs)
  ✓ Valeur '379' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '361' → Churn = 1 (100%) (248 obs)
  ✓ Valeur '395' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '350' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '193' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '428' → Churn = 1 (100%) (217 obs)
  ✓ Valeur '314' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '309' → Churn = 1 (100%) (227 obs)
  ✓ Valeur '209' → Churn = 1 (100%) (249 obs)
  ✓ Valeur '279' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '258' → Churn = 1 (100%) (245 obs)
  ✓ Valeur '479' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '327' → Churn = 1 (100%) (245 obs)
  ✓ Valeur '384' → Churn = 1 (100%) (221 obs)
  ✓ Valeur '205' → Churn = 1 (100%) (228 obs)
  ✓ Valeur '216' → Churn = 1 (100%) (211 obs)
  ✓ Valeur '352' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '102' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '403' → Churn = 1 (100%) (251 obs)
  ✓ Valeur '433' → Churn = 1 (100%) (249 obs)
  ✓ Valeur '459' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '113' → Churn = 1 (100%) (242 obs)
  ✓ Valeur '191' → Churn = 1 (100%) (230 obs)
  ✓ Valeur '264' → Churn = 1 (100%) (247 obs)
  ✓ Valeur '358' → Churn = 1 (100%) (249 obs)
  ✓ Valeur '427' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '277' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '451' → Churn = 1 (100%) (230 obs)
  ✓ Valeur '311' → Churn = 1 (100%) (217 obs)
  ✓ Valeur '125' → Churn = 1 (100%) (201 obs)
  ✓ Valeur '247' → Churn = 1 (100%) (257 obs)
  ✓ Valeur '363' → Churn = 1 (100%) (217 obs)
  ✓ Valeur '377' → Churn = 1 (100%) (228 obs)
  ✓ Valeur '104' → Churn = 1 (100%) (206 obs)
  ✓ Valeur '187' → Churn = 1 (100%) (240 obs)
  ✓ Valeur '107' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '476' → Churn = 1 (100%) (245 obs)
  ✓ Valeur '437' → Churn = 1 (100%) (207 obs)
  ✓ Valeur '487' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '429' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '106' → Churn = 1 (100%) (185 obs)
  ✓ Valeur '192' → Churn = 1 (100%) (204 obs)
  ✓ Valeur '117' → Churn = 1 (100%) (253 obs)
  ✓ Valeur '324' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '278' → Churn = 1 (100%) (198 obs)
  ✓ Valeur '224' → Churn = 1 (100%) (247 obs)
  ✓ Valeur '406' → Churn = 1 (100%) (251 obs)
  ✓ Valeur '360' → Churn = 1 (100%) (202 obs)
  ✓ Valeur '301' → Churn = 1 (100%) (227 obs)
  ✓ Valeur '381' → Churn = 1 (100%) (221 obs)
  ✓ Valeur '475' → Churn = 1 (100%) (201 obs)
  ✓ Valeur '464' → Churn = 1 (100%) (231 obs)
  ✓ Valeur '138' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '399' → Churn = 1 (100%) (239 obs)
  ✓ Valeur '290' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '440' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '170' → Churn = 1 (100%) (216 obs)
  ✓ Valeur '359' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '215' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '456' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '473' → Churn = 1 (100%) (216 obs)
  ✓ Valeur '140' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '271' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '458' → Churn = 1 (100%) (215 obs)
  ✓ Valeur '348' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '178' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '175' → Churn = 1 (100%) (210 obs)
  ✓ Valeur '136' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '222' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '407' → Churn = 1 (100%) (238 obs)
  ✓ Valeur '308' → Churn = 1 (100%) (217 obs)
  ✓ Valeur '492' → Churn = 1 (100%) (239 obs)
  ✓ Valeur '465' → Churn = 1 (100%) (206 obs)
  ✓ Valeur '342' → Churn = 1 (100%) (214 obs)
  ✓ Valeur '462' → Churn = 1 (100%) (207 obs)
  ✓ Valeur '156' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '334' → Churn = 1 (100%) (249 obs)
  ✓ Valeur '132' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '158' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '372' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '210' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '257' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '416' → Churn = 1 (100%) (253 obs)
  ✓ Valeur '127' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '480' → Churn = 1 (100%) (208 obs)
  ✓ Valeur '229' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '287' → Churn = 1 (100%) (240 obs)
  ✓ Valeur '149' → Churn = 1 (100%) (238 obs)
  ✓ Valeur '283' → Churn = 1 (100%) (207 obs)
  ✓ Valeur '133' → Churn = 1 (100%) (263 obs)
  ✓ Valeur '189' → Churn = 1 (100%) (206 obs)
  ✓ Valeur '375' → Churn = 1 (100%) (227 obs)
  ✓ Valeur '300' → Churn = 1 (100%) (197 obs)
  ✓ Valeur '388' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '356' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '438' → Churn = 1 (100%) (249 obs)
  ✓ Valeur '177' → Churn = 1 (100%) (228 obs)
  ✓ Valeur '477' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '349' → Churn = 1 (100%) (247 obs)
  ✓ Valeur '332' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '497' → Churn = 1 (100%) (244 obs)
  ✓ Valeur '238' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '241' → Churn = 1 (100%) (257 obs)
  ✓ Valeur '362' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '239' → Churn = 1 (100%) (209 obs)
  ✓ Valeur '318' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '425' → Churn = 1 (100%) (240 obs)
  ✓ Valeur '260' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '115' → Churn = 1 (100%) (230 obs)
  ✓ Valeur '491' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '373' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '244' → Churn = 1 (100%) (258 obs)
  ✓ Valeur '105' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '380' → Churn = 1 (100%) (240 obs)
  ✓ Valeur '154' → Churn = 1 (100%) (215 obs)
  ✓ Valeur '343' → Churn = 1 (100%) (247 obs)
  ✓ Valeur '275' → Churn = 1 (100%) (212 obs)
  ✓ Valeur '430' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '496' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '108' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '367' → Churn = 1 (100%) (231 obs)
  ✓ Valeur '181' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '346' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '418' → Churn = 1 (100%) (245 obs)
  ✓ Valeur '306' → Churn = 1 (100%) (211 obs)
  ✓ Valeur '230' → Churn = 1 (100%) (215 obs)
  ✓ Valeur '485' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '116' → Churn = 1 (100%) (209 obs)
  ✓ Valeur '242' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '198' → Churn = 1 (100%) (230 obs)
  ✓ Valeur '307' → Churn = 1 (100%) (238 obs)
  ✓ Valeur '259' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '145' → Churn = 1 (100%) (207 obs)
  ✓ Valeur '137' → Churn = 1 (100%) (209 obs)
  ✓ Valeur '444' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '291' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '188' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '466' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '173' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '467' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '150' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '455' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '355' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '364' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '482' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '439' → Churn = 1 (100%) (255 obs)
  ✓ Valeur '449' → Churn = 1 (100%) (201 obs)
  ✓ Valeur '227' → Churn = 1 (100%) (209 obs)
  ✓ Valeur '321' → Churn = 1 (100%) (212 obs)
  ✓ Valeur '182' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '319' → Churn = 1 (100%) (208 obs)
  ✓ Valeur '252' → Churn = 1 (100%) (228 obs)
  ✓ Valeur '237' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '254' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '432' → Churn = 1 (100%) (267 obs)
  ✓ Valeur '267' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '218' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '394' → Churn = 1 (100%) (239 obs)
  ✓ Valeur '409' → Churn = 1 (100%) (228 obs)
  ✓ Valeur '160' → Churn = 1 (100%) (230 obs)
  ✓ Valeur '322' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '169' → Churn = 1 (100%) (242 obs)
  ✓ Valeur '386' → Churn = 1 (100%) (261 obs)
  ✓ Valeur '203' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '422' → Churn = 1 (100%) (199 obs)
  ✓ Valeur '431' → Churn = 1 (100%) (234 obs)
  ✓ Valeur '339' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '489' → Churn = 1 (100%) (194 obs)
  ✓ Valeur '347' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '221' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '250' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '200' → Churn = 1 (100%) (245 obs)
  ✓ Valeur '469' → Churn = 1 (100%) (202 obs)
  ✓ Valeur '315' → Churn = 1 (100%) (239 obs)
  ✓ Valeur '310' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '273' → Churn = 1 (100%) (212 obs)
  ✓ Valeur '463' → Churn = 1 (100%) (246 obs)
  ✓ Valeur '483' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '302' → Churn = 1 (100%) (227 obs)
  ✓ Valeur '397' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '240' → Churn = 1 (100%) (247 obs)
  ✓ Valeur '498' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '114' → Churn = 1 (100%) (205 obs)
  ✓ Valeur '131' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '168' → Churn = 1 (100%) (244 obs)
  ✓ Valeur '270' → Churn = 1 (100%) (212 obs)
  ✓ Valeur '328' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '366' → Churn = 1 (100%) (231 obs)
  ✓ Valeur '176' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '246' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '126' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '280' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '190' → Churn = 1 (100%) (232 obs)
  ✓ Valeur '161' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '119' → Churn = 1 (100%) (246 obs)
  ✓ Valeur '253' → Churn = 1 (100%) (239 obs)
  ✓ Valeur '234' → Churn = 1 (100%) (269 obs)
  ✓ Valeur '405' → Churn = 1 (100%) (221 obs)
  ✓ Valeur '263' → Churn = 1 (100%) (213 obs)
  ✓ Valeur '179' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '220' → Churn = 1 (100%) (210 obs)
  ✓ Valeur '390' → Churn = 1 (100%) (209 obs)
  ✓ Valeur '118' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '284' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '461' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '393' → Churn = 1 (100%) (240 obs)
  ✓ Valeur '286' → Churn = 1 (100%) (211 obs)
  ✓ Valeur '207' → Churn = 1 (100%) (248 obs)
  ✓ Valeur '368' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '256' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '317' → Churn = 1 (100%) (204 obs)
  ✓ Valeur '281' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '208' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '219' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '110' → Churn = 1 (100%) (240 obs)
  ✓ Valeur '255' → Churn = 1 (100%) (214 obs)
  ✓ Valeur '163' → Churn = 1 (100%) (211 obs)
  ✓ Valeur '223' → Churn = 1 (100%) (226 obs)
  ✓ Valeur '468' → Churn = 1 (100%) (212 obs)
  ✓ Valeur '453' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '147' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '304' → Churn = 1 (100%) (212 obs)
  ✓ Valeur '143' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '184' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '320' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '484' → Churn = 1 (100%) (212 obs)
  ✓ Valeur '233' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '370' → Churn = 1 (100%) (235 obs)
  ✓ Valeur '313' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '452' → Churn = 1 (100%) (216 obs)
  ✓ Valeur '123' → Churn = 1 (100%) (198 obs)
  ✓ Valeur '457' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '410' → Churn = 1 (100%) (255 obs)
  ✓ Valeur '171' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '354' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '420' → Churn = 1 (100%) (241 obs)
  ✓ Valeur '130' → Churn = 1 (100%) (190 obs)
  ✓ Valeur '412' → Churn = 1 (100%) (200 obs)
  ✓ Valeur '112' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '340' → Churn = 1 (100%) (227 obs)
  ✓ Valeur '481' → Churn = 1 (100%) (211 obs)
  ✓ Valeur '251' → Churn = 1 (100%) (231 obs)
  ✓ Valeur '423' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '323' → Churn = 1 (100%) (205 obs)
  ✓ Valeur '235' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '199' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '312' → Churn = 1 (100%) (227 obs)
  ✓ Valeur '164' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '387' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '194' → Churn = 1 (100%) (237 obs)
  ✓ Valeur '245' → Churn = 1 (100%) (229 obs)
  ✓ Valeur '402' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '331' → Churn = 1 (100%) (252 obs)
  ✓ Valeur '441' → Churn = 1 (100%) (221 obs)
  ✓ Valeur '357' → Churn = 1 (100%) (207 obs)
  ✓ Valeur '474' → Churn = 1 (100%) (221 obs)
  ✓ Valeur '450' → Churn = 1 (100%) (219 obs)
  ✓ Valeur '276' → Churn = 1 (100%) (243 obs)
  ✓ Valeur '442' → Churn = 1 (100%) (216 obs)
  ✓ Valeur '243' → Churn = 1 (100%) (199 obs)
  ✓ Valeur '303' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '478' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '166' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '135' → Churn = 1 (100%) (216 obs)
  ✓ Valeur '121' → Churn = 1 (100%) (230 obs)
  ✓ Valeur '292' → Churn = 1 (100%) (225 obs)
  ✓ Valeur '337' → Churn = 1 (100%) (214 obs)
  ✓ Valeur '333' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '155' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '197' → Churn = 1 (100%) (230 obs)
  ✓ Valeur '180' → Churn = 1 (100%) (246 obs)
  ✓ Valeur '329' → Churn = 1 (100%) (220 obs)
  ✓ Valeur '316' → Churn = 1 (100%) (204 obs)
  ✓ Valeur '186' → Churn = 1 (100%) (205 obs)
  ✓ Valeur '472' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '124' → Churn = 1 (100%) (203 obs)
  ✓ Valeur '345' → Churn = 1 (100%) (216 obs)
  ✓ Valeur '470' → Churn = 1 (100%) (239 obs)
  ✓ Valeur '274' → Churn = 1 (100%) (222 obs)
  ✓ Valeur '385' → Churn = 1 (100%) (216 obs)
  ✓ Valeur '128' → Churn = 1 (100%) (236 obs)
  ✓ Valeur '446' → Churn = 1 (100%) (239 obs)
  ✓ Valeur '231' → Churn = 1 (100%) (215 obs)
  ✓ Valeur '157' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '162' → Churn = 1 (100%) (242 obs)
  ✓ Valeur '298' → Churn = 1 (100%) (244 obs)
  ✓ Valeur '120' → Churn = 1 (100%) (233 obs)
  ✓ Valeur '248' → Churn = 1 (100%) (208 obs)
  ✓ Valeur '305' → Churn = 1 (100%) (221 obs)
  ✓ Valeur '122' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '447' → Churn = 1 (100%) (223 obs)
  ✓ Valeur '419' → Churn = 1 (100%) (238 obs)
  ✓ Valeur '172' → Churn = 1 (100%) (201 obs)
  ✓ Valeur '266' → Churn = 1 (100%) (218 obs)
  ✓ Valeur '217' → Churn = 1 (100%) (249 obs)
  ✓ Valeur '174' → Churn = 1 (100%) (203 obs)
  ✓ Valeur '100' → Churn = 1 (100%) (100 obs)
  ✓ Valeur '454' → Churn = 1 (100%) (234 obs)
  ✓ Valeur '391' → Churn = 1 (100%) (224 obs)
  ✓ Valeur '676.18' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '963.13' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '902.08' → Churn = 0 (0%) (13 obs)
  ✓ Valeur '547.26' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '779.47' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '738.96' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '519.75' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '583.22' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '624.56' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '903.39' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '736.71' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '681.41' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '971.75' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '810.45' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '748.89' → Churn = 0 (0%) (13 obs)
  ✓ Valeur '861.81' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '642.22' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '961.46' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '630.43' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '984.97' → Churn = 0 (0%) (13 obs)
  ✓ Valeur '974.5' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '934.54' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '718.8' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '582.86' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '753.69' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '801.53' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '988.85' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '881.72' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '786.96' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '947.25' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '815.96' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '627.71' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '643.09' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '848.12' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '773.55' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '940.8' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '880.12' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '842.01' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '894.71' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '729.88' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '565.5' → Churn = 0 (0%) (12 obs)
  ✓ Valeur '708.55' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '839.25' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '989.51' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '946.44' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '805.12' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '505.01' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '737.87' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '940.75' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '869.77' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '704.63' → Churn = 0 (0%) (11 obs)
  ✓ Valeur '739.83' → Churn = 0 (0%) (11 obs)
  ⚠️  452 règle(s) parfaite(s) trouvée(s)

Variable: Age 
Type: numeric 
Valeurs uniques: 48 
  ✓ Valeur '65' → Churn = 1 (100%) (5460 obs)
  ✓ Valeur '55' → Churn = 1 (100%) (5489 obs)
  ✓ Valeur '58' → Churn = 1 (100%) (5373 obs)
  ✓ Valeur '51' → Churn = 1 (100%) (5437 obs)
  ✓ Valeur '64' → Churn = 1 (100%) (5496 obs)
  ✓ Valeur '52' → Churn = 1 (100%) (5364 obs)
  ✓ Valeur '57' → Churn = 1 (100%) (5361 obs)
  ✓ Valeur '59' → Churn = 1 (100%) (5573 obs)
  ✓ Valeur '60' → Churn = 1 (100%) (5430 obs)
  ✓ Valeur '56' → Churn = 1 (100%) (5477 obs)
  ✓ Valeur '63' → Churn = 1 (100%) (5560 obs)
  ✓ Valeur '53' → Churn = 1 (100%) (5467 obs)
  ✓ Valeur '61' → Churn = 1 (100%) (5407 obs)
  ✓ Valeur '54' → Churn = 1 (100%) (5472 obs)
  ✓ Valeur '62' → Churn = 1 (100%) (5288 obs)
  ⚠️  15 règle(s) parfaite(s) trouvée(s)

Variable: Tenure 
Type: numeric 
Valeurs uniques: 60 
  ✓ Pas de règles parfaites</code></pre>
</div>
</div>
</section>
</section>
<section id="résumé-des-problèmes" class="level2">
<h2 class="anchored" data-anchor-id="résumé-des-problèmes"><strong>Résumé des problèmes :</strong></h2>
<ol type="1">
<li><p><strong><code>Contract.Length == 1</code></strong> → 100% Churn (87,104 observations !)</p></li>
<li><p><strong><code>Payment.Delay</code> valeurs 21-30</strong> → 100% Churn (~10 valeurs)</p></li>
<li><p><strong><code>Total.Spend</code></strong> → 452 valeurs spécifiques → 100% Churn ou 0% Churn</p></li>
<li><p><strong><code>Age</code> 51-65</strong> → 100% Churn (15 valeurs d’âge)</p></li>
<li><p><strong><code>Support.Calls &gt; 5</code></strong> → 100% Churn (déjà vu)</p></li>
</ol>
<p>supprimons les variables problematique</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>=== RECOMMANDATION FINALE ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>VOTRE DATASET A DES PROBLÈMES GRAVES:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. Règles déterministes non réalistes (100% Churn)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>2. Patterns qui ne généralisent pas au test set</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>3. Dataset probablement synthétique/artificiel</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>SOLUTIONS:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>✅ OPTION 1: Features transformées (groupes, catégories, log)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>✅ OPTION 2: Modèle très simple avec peu de variables</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>✅ OPTION 3: Exclure toutes les variables problématiques</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>CODE FINAL RECOMMANDÉ:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># Exclure les variables avec règles parfaites</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>safe_vars &lt;- c('Gender', 'Tenure', 'Usage.Frequency', 'Last.Interaction')</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>formula_safe &lt;- as.formula(paste('Churn ~', paste(safe_vars, collapse = ' + ')))</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>final_safe_model &lt;- ctree(</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  formula_safe,</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  data = train_prepared,</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  controls = ctree_control(</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>    mincriterion = 0.95,</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>    minsplit = 500,</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>    minbucket = 250,</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>    maxdepth = 3</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  )</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== RÉSULTATS AVEC VARIABLES SÛRES ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Distribution:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>pred_safe
    0     1 
37460 26914 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Proportions:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>pred_safe
    0     1 
58.19 41.81 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Accuracy (safe): 52.89 %
Baseline: 52.63 %
Amélioration: 0.26 % points</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
======================================================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>RAPPORT FINAL - PROJET DE PRÉDICTION DE CHURN</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>📊 RÉSULTATS:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • Accuracy finale          : 52.89 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • Baseline                 : 52.63 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • Amélioration             : +0.26% points</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • Distribution prédite     : 58.19 % '0' | 41.81 % '1'</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • Distribution réelle      : 52.63 % '0' | 47.37 % '1'</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>🎯 MODÈLE UTILISÉ:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • Algorithme               : Arbre de décision (ctree)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • Variables                : Gender, Tenure, Usage.Frequency, Last.Interaction </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • Paramètres               : minsplit=500, minbucket=250, maxdepth=3</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>⚠️  PROBLÈMES RENCONTRÉS ET SOLUTIONS:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  1. Règles parfaites dans les données → Exclu les variables problématiques</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  2. Overfitting sévère → Utilisé régularisation forte</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  3. Distribution biaisée → Modèle simple et équilibré</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>✅ FICHIERS GÉNÉRÉS:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • churn_predictions_final.csv : Prédictions sur le test set</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • churn_model_final.rds       : Modèle entraîné</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  • churn_model_info.rds        : Métriques et informations</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>🏁 CONCLUSION:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Le modèle a des PERFORMANCES MODESTES mais évite l'overfitting.
  Suggestions d'amélioration:
  1. Collecter plus de données réelles
  2. Essayer d'autres algorithmes (régression logistique, etc.)
  3. Feature engineering plus poussé</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
======================================================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>PROJET TERMINÉ AVEC SUCCÈS 🎉</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================================</code></pre>
</div>
</div>
</section>
<section id="random-forest" class="level2">
<h2 class="anchored" data-anchor-id="random-forest">Random forest</h2>
<p>Optimisation</p>
<pre><code></code></pre>
</section>
<section id="quarto" class="level2">
<h2 class="anchored" data-anchor-id="quarto">Quarto</h2>
<p>Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <a href="https://quarto.org" class="uri">https://quarto.org</a>.</p>
</section>
<section id="running-code" class="level2">
<h2 class="anchored" data-anchor-id="running-code">Running Code</h2>
<p>When you click the <strong>Render</strong> button a document will be generated that includes both content and the output of embedded code. You can embed code like this:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>You can add options to executable code like this</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>The <code>echo: false</code> option disables the printing of code (only output is displayed).</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>